"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.territory_players = exports.territory_countrys = exports.territory_villages = exports.territory_regions = exports.territory_areas = void 0;
const colors_1 = require("colors");
const utils_1 = require("./../../utils/utils");
const fs = require("fs");
const territory_base_1 = require("./territory_base");
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY);
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY_AREA);
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY_REGION);
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY_VILLAGE);
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY_COUNTRY);
utils_1.database.create_folder_if_not_exist(utils_1.root.DATABASE_TERRITORY_PLAYER);
exports.territory_areas = new Map();
exports.territory_regions = new Map();
exports.territory_villages = new Map();
exports.territory_countrys = new Map();
exports.territory_players = new Map();
const area_files = fs.readdirSync(utils_1.root.DATABASE_TERRITORY_AREA);
area_files.forEach(file => {
    const data_area_territory_json = utils_1.database.load(utils_1.root.DATABASE_TERRITORY_AREA, file);
    const data_owner_name_xuid = new territory_base_1.PlayerNameXuid(data_area_territory_json.owner.name, data_area_territory_json.owner.xuid);
    const data_chunk = new territory_base_1.Chunk(data_area_territory_json.chunk.x, data_area_territory_json.chunk.z, data_area_territory_json.chunk.dimention_id);
    const data_area_territory = new territory_base_1.TerritoryArea(data_owner_name_xuid, data_chunk);
    exports.territory_areas.set(`${data_area_territory.chunk.get_dxz_chunk_line()}`, data_area_territory);
});
const region_files = fs.readdirSync(utils_1.root.DATABASE_TERRITORY_REGION);
region_files.forEach(file => {
    const data_region_territory = utils_1.database.load(utils_1.root.DATABASE_TERRITORY_REGION, file);
    exports.territory_regions.set(`${data_region_territory.name}`, data_region_territory);
});
const village_files = fs.readdirSync(utils_1.root.DATABASE_TERRITORY_VILLAGE);
village_files.forEach(file => {
    const data_village_territory = utils_1.database.load(utils_1.root.DATABASE_TERRITORY_VILLAGE, file);
    exports.territory_villages.set(`${data_village_territory.name}`, data_village_territory);
});
const country_files = fs.readdirSync(utils_1.root.DATABASE_TERRITORY_COUNTRY);
country_files.forEach(file => {
    const data_country_territory = utils_1.database.load(utils_1.root.DATABASE_TERRITORY_COUNTRY, file);
    exports.territory_countrys.set(`${data_country_territory.name}`, data_country_territory);
});
const player_files = fs.readdirSync(utils_1.root.DATABASE_TERRITORY_PLAYER);
player_files.forEach(file => {
    const data_player_territory = utils_1.database.load(utils_1.root.DATABASE_TERRITORY_PLAYER, file);
    exports.territory_players.set(`${data_player_territory.owner.xuid}`, data_player_territory);
});
utils_1.console_message.dos_log_server("nations_command Loading", colors_1.yellow, 2);
require("./command/overload/pioneer_command");
utils_1.console_message.dos_log_server("nations_command Loaded", colors_1.green, 2);
utils_1.console_message.dos_log_server("events Loading", colors_1.yellow, 2);
require("./events");
utils_1.console_message.dos_log_server("events Loaded", colors_1.green, 2);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxtQ0FBdUM7QUFDdkMsK0NBQXNFO0FBQ3RFLHlCQUF5QjtBQUN6QixxREFBOEk7QUFFOUksZ0JBQVEsQ0FBQywwQkFBMEIsQ0FBQyxZQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUM3RCxnQkFBUSxDQUFDLDBCQUEwQixDQUFDLFlBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBQ2xFLGdCQUFRLENBQUMsMEJBQTBCLENBQUMsWUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDcEUsZ0JBQVEsQ0FBQywwQkFBMEIsQ0FBQyxZQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUNyRSxnQkFBUSxDQUFDLDBCQUEwQixDQUFDLFlBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3JFLGdCQUFRLENBQUMsMEJBQTBCLENBQUMsWUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFFdkQsUUFBQSxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQXlCLENBQUM7QUFDbkQsUUFBQSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBMkIsQ0FBQztBQUN2RCxRQUFBLGtCQUFrQixHQUFHLElBQUksR0FBRyxFQUE0QixDQUFDO0FBQ3pELFFBQUEsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLEVBQTRCLENBQUM7QUFDekQsUUFBQSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBMkIsQ0FBQztBQUVwRSxNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBQ2hFLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDdEIsTUFBTSx3QkFBd0IsR0FBRyxnQkFBUSxDQUFDLElBQUksQ0FBQyxZQUFJLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbkYsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLCtCQUFjLENBQUMsd0JBQXdCLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSx3QkFBd0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUgsTUFBTSxVQUFVLEdBQUcsSUFBSSxzQkFBSyxDQUFDLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsd0JBQXdCLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSx3QkFBd0IsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDOUksTUFBTSxtQkFBbUIsR0FBRyxJQUFJLDhCQUFhLENBQUMsb0JBQW9CLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDaEYsdUJBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixDQUFDLENBQUM7QUFDbEcsQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3BFLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDeEIsTUFBTSxxQkFBcUIsR0FBb0IsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsWUFBSSxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25HLHlCQUFpQixDQUFDLEdBQUcsQ0FBQyxHQUFHLHFCQUFxQixDQUFDLElBQUksRUFBRSxFQUFFLHFCQUFxQixDQUFDLENBQUM7QUFDbEYsQ0FBQyxDQUFDLENBQUM7QUFDSCxNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RFLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDekIsTUFBTSxzQkFBc0IsR0FBcUIsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsWUFBSSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RHLDBCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxFQUFFLHNCQUFzQixDQUFDLENBQUM7QUFDckYsQ0FBQyxDQUFDLENBQUM7QUFDSCxNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RFLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDekIsTUFBTSxzQkFBc0IsR0FBcUIsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsWUFBSSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RHLDBCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxFQUFFLHNCQUFzQixDQUFDLENBQUM7QUFDckYsQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3BFLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDeEIsTUFBTSxxQkFBcUIsR0FBb0IsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsWUFBSSxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25HLHlCQUFpQixDQUFDLEdBQUcsQ0FBQyxHQUFHLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0FBQ3hGLENBQUMsQ0FBQyxDQUFDO0FBRUgsdUJBQWUsQ0FBQyxjQUFjLENBQUMseUJBQXlCLEVBQUUsZUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3JFLDhDQUE0QztBQUM1Qyx1QkFBZSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsRUFBRSxjQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbkUsdUJBQWUsQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLEVBQUUsZUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzVELG9CQUFrQjtBQUVsQix1QkFBZSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsY0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDIn0=